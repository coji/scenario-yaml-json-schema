{
  "$schema": "http://json-schema.org/schema#",
  "description": "Scenario YAML",
  "type": "object",
  "minProperties": 1,
  "required": ["node_groups"],
  "additionalProperties": false,
  "properties": {
    "node_groups": {
      "type": "object",
      "minProperties": 1,
      "description": "ノードグループの定義。複数のノードグループをぶら下げることができますyo!。",
      "patternProperties": {
        "": {
          "type": "object",
          "description": "ノードグループの定義。",
          "minProperties": 1,
          "maxProperties": 1,
          "required": ["contents"],
          "additionalProperties": false,
          "properties": {
            "contents": {
              "type": "array",
              "description": "ノードグループの内容",
              "minLength": 1,
              "items": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "テキストメッセージ",
                    "required": ["lineText"],
                    "properties": {
                      "lineText": {
                        "type": "string",
                        "description": "テキストメッセージ"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "description": "carousel",
                    "required": ["carousel"],
                    "properties": {
                      "carousel": {
                        "type": "object",
                        "description": "カルーセル",
                        "required": ["notification_text", "columns"],
                        "properties": {
                          "notification_text": {
                            "type": "string",
                            "description": "カルーセルの通知テキスト"
                          },
                          "columns": {
                            "type": "array",
                            "description": "カルーセルの列",
                            "required": [""]
                          }
                        }
                      }
                    }
                  },
                  {
                    "type": "object",
                    "description": "画像",
                    "required": ["original", "preview"],
                    "properties": {
                      "original": {
                        "type": "string",
                        "format": "url"
                      },
                      "preview": {
                        "type": "string",
                        "format": "url"
                      }
                    }
                  }
                ]
              }
            }
          }
        }
      }
    }
  }
}
